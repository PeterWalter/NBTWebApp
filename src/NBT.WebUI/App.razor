@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Components
@using NBT.WebUI.Components.Layout

<ErrorBoundary>
  <ErrorContent>
    <div class="app-error" style="padding:1rem; color:#a33;">
      <h3>Something went wrong</h3>
      <p>@context.Message</p>
      <details style="white-space:pre-wrap;">
        @context.ToString()
      </details>
      <p><a href="" @onclick="@Reload">Reload</a></p>
    </div>
  </ErrorContent>
  <ChildContent>
    <Router AppAssembly="@typeof(App).Assembly">
      <Found Context="routeData">
        <RouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)" />
      </Found>
      <NotFound>
        <div style="text-align: center; padding: 2rem;">
          <h2>Page Not Found</h2>
          <p>Sorry, the page you're looking for doesn't exist.</p>
          <p><a href="/">Go back to Home</a></p>
        </div>
      </NotFound>
    </Router>
  </ChildContent>
</ErrorBoundary>

@code {
    private Task Reload(MouseEventArgs e)
    {
        NavigationManager.NavigateTo(NavigationManager.Uri, forceLoad: true);
        return Task.CompletedTask;
    }

    [Inject] private NavigationManager NavigationManager { get; set; } = default!;

    // Example delegate moved into @code to avoid top-level C# code that breaks compilation.
    // Uncomment and adapt as needed:
    //
    // private Func<object, Task> handler = async (args) =>
    // {
    //     if (condition)
    //         return;
    //     else
    //         await SomeOtherTask;
    // };
}

# fetch and rebase, resolve conflicts if any, then push
git fetch origin
git pull --rebase origin upgrade-to-NET10
# resolve conflicts (if present), then:
git rebase --continue
git push